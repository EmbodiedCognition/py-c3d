<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>c3d API documentation</title>
<meta name="description" content="Python C3D Processing
â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>c3d</code></h1>
</header>
<section id="section-intro">
<hr>
<h2 id="python-c3d-processing">Python C3D Processing</h2>
<p>This package provides pure Python modules for reading, writing, and editing binary
motion-capture files in the <a href="https://www.c3d.org/HTML/default.htm">C3D file format</a>.</p>
<h2 id="installing">Installing</h2>
<p>See the <a href="https://mattiasfredriksson.github.io/py-c3d/">main page</a> or <a href="https://github.com/EmbodiedCognition/py-c3d">github page</a>.</p>
<h1 id="examples">Examples</h1>
<p>Access to data blocks in a .c3d file is provided through the <code><a title="c3d.reader.Reader" href="reader.html#c3d.reader.Reader">Reader</a></code> and <code><a title="c3d.writer.Writer" href="writer.html#c3d.writer.Writer">Writer</a></code> classes.
Implementation of the examples below are provided in the <a href="https://github.com/EmbodiedCognition/py-c3d/tree/master/examples">examples/</a> directory in the github repository.</p>
<h2 id="reading">Reading</h2>
<p>To read the frames from a C3D file, use a <code><a title="c3d.reader.Reader" href="reader.html#c3d.reader.Reader">Reader</a></code> instance:</p>
<pre><code>import c3d

with open('my-motion.c3d', 'rb') as file:
    reader = c3d.Reader(file)
    for i, points, analog in reader.read_frames():
        print('frame {}: point {}, analog {}'.format(
              i, points.shape, analog.shape))
</code></pre>
<p>The method <code><a title="c3d.reader.Reader.read_frames" href="reader.html#c3d.reader.Reader.read_frames">Reader.read_frames()</a></code> generates tuples
containing the trial frame number, a <code>numpy</code> array of point
data, and a <code>numpy</code> array of analog data.</p>
<h2 id="writing">Writing</h2>
<p>To write data frames to a C3D file, use a <code><a title="c3d.writer.Writer" href="writer.html#c3d.writer.Writer">Writer</a></code>
instance:</p>
<pre><code>import c3d
import numpy as np

# Writes 100 frames recorded at 200 Hz.
# Each frame contains recordings for 24 coordinate markers.
writer = c3d.Writer(point_rate=200)
for _ in range(100):
    writer.add_frames((np.random.randn(24, 5), ()))

writer.set_point_labels(['RFT1', 'RFT2', 'RFT3', 'RFT4',
                         'LFT1', 'LFT2', 'LFT3', 'LFT4',
                         'RSK1', 'RSK2', 'RSK3', 'RSK4',
                         'LSK1', 'LSK2', 'LSK3', 'LSK4',
                         'RTH1', 'RTH2', 'RTH3', 'RTH4',
                         'LTH1', 'LTH2', 'LTH3', 'LTH4'
                        ])
writer.set_analog_labels(None)

with open('random-points.c3d', 'wb') as h:
    writer.write(h)
</code></pre>
<p>The function <code><a title="c3d.writer.Writer.add_frames" href="writer.html#c3d.writer.Writer.add_frames">Writer.add_frames()</a></code> take pairs of <code>numpy</code> or <code>python
arrays</code>, with the first array in each tuple defining point data and the second
analog data for the frame. Leaving one of the arrays empty indicates
to the writer that no analog &mdash; or point data&mdash; should be included in the file.
References of the data arrays are tracked until <code><a title="c3d.writer.Writer.write" href="writer.html#c3d.writer.Writer.write">Writer.write()</a></code>
is called, which serializes the metadata and data frames into a C3D binary file stream.</p>
<h2 id="editing">Editing</h2>
<p>Editing c3d files is possible by combining the use of <code><a title="c3d.reader.Reader" href="reader.html#c3d.reader.Reader">Reader</a></code> and <code><a title="c3d.writer.Writer" href="writer.html#c3d.writer.Writer">Writer</a></code>
instances through the <code><a title="c3d.reader.Reader.to_writer" href="reader.html#c3d.reader.Reader.to_writer">Reader.to_writer()</a></code> method. To edit a file, open a file stream and pass
it to the <code><a title="c3d.reader.Reader" href="reader.html#c3d.reader.Reader">Reader</a></code> constructor. Use the <code><a title="c3d.reader.Reader.to_writer" href="reader.html#c3d.reader.Reader.to_writer">Reader.to_writer()</a></code> method to create
an independent <code><a title="c3d.writer.Writer" href="writer.html#c3d.writer.Writer">Writer</a></code> instance containing a heap copy of its file contents.
Rereading data frames from the reader and inserting them in reverse will then create a
looped version of the original motion sequence!</p>
<pre><code>import c3d

with open('my-motion.c3d', 'rb') as file:
    reader = c3d.Reader(file)
    writer = reader.to_writer('copy')
    for i, points, analog in reader.read_frames():
        writer.add_frames((points, analog), index=reader.frame_count)

with open('my-looped-motion.c3d', 'wb') as h:
    writer.write(h)
</code></pre>
<h2 id="accessing-metadata">Accessing Metadata</h2>
<p>Metadata in a .c3d file exists in two forms, a <code><a title="c3d.header.Header" href="header.html#c3d.header.Header">Header</a></code> and <code><a title="c3d.parameter.ParamData" href="parameter.html#c3d.parameter.ParamData">ParamData</a></code>.
Reading metadata fields can be done though the <code><a title="c3d.reader.Reader" href="reader.html#c3d.reader.Reader">Reader</a></code> but editing requires a
<code><a title="c3d.writer.Writer" href="writer.html#c3d.writer.Writer">Writer</a></code> instance.</p>
<p><code><a title="c3d.header.Header" href="header.html#c3d.header.Header">Header</a></code> fields can be accessed from the common <code><a title="c3d.manager.Manager.header" href="manager.html#c3d.manager.Manager.header">Manager.header</a></code> attribute.
Parameters are available through a parameter <code><a title="c3d.group.Group" href="group.html#c3d.group.Group">Group</a></code>, and can be accessed
through the <code><a title="c3d.manager.Manager.get" href="manager.html#c3d.manager.Manager.get">Manager.get()</a></code> and <code><a title="c3d.group.Group.get" href="group.html#c3d.group.Group.get">Group.get()</a></code> methods:</p>
<pre><code>group = reader.get('POINT')
param = group.get('LABELS')
</code></pre>
<p>or simply use</p>
<pre><code>param = reader.get('POINT:LABELS')
</code></pre>
<p>Note that for accessing parameters in the <code><a title="c3d.reader.Reader" href="reader.html#c3d.reader.Reader">Reader</a></code>, <code><a title="c3d.reader.Reader.get" href="reader.html#c3d.reader.Reader.get">Reader.get()</a></code>
returns a <code><a title="c3d.group.GroupReadonly" href="group.html#c3d.group.GroupReadonly">GroupReadonly</a></code> instance. Convenience functions are provided
for some of the common metadata fields such as <code><a title="c3d.manager.Manager.frame_count" href="manager.html#c3d.manager.Manager.frame_count">Manager.frame_count</a></code>.
In the case you require specific metadata fields, consider exploring
the <a href="https://c3d.org/docs/C3D_User_Guide.pdf">C3D format manual</a> and/or inspect the file using the c3d-metadata script.</p>
<h2 id="writing-metadata">Writing Metadata</h2>
<p>Once a <code><a title="c3d.writer.Writer" href="writer.html#c3d.writer.Writer">Writer</a></code> instance is created, to edit
parameter data <code><a title="c3d.writer.Writer.get_create" href="writer.html#c3d.writer.Writer.get_create">Writer.get_create()</a></code> a group:</p>
<pre><code>group = writer.get_create('ANALOG')
</code></pre>
<p>and to write a float32 entry, use the <code><a title="c3d.group.Group.add" href="group.html#c3d.group.Group.add">Group.add()</a></code> or <code><a title="c3d.group.Group.set" href="group.html#c3d.group.Group.set">Group.set()</a></code> functions</p>
<pre><code>group.set('GEN_SCALE', 'Analog general scale factor', 4, '&lt;f', value)
</code></pre>
<p>In this case, one can use the <code><a title="c3d.writer.Writer.set_analog_general_scale" href="writer.html#c3d.writer.Writer.set_analog_general_scale">Writer.set_analog_general_scale()</a></code> method instead.
For serializing other types, see the source code for some of the convenience functions. For example:
<code><a title="c3d.writer.Writer.set_point_labels" href="writer.html#c3d.writer.Writer.set_point_labels">Writer.set_point_labels()</a></code> (2D string array) or
<code><a title="c3d.writer.Writer.set_analog_scales" href="writer.html#c3d.writer.Writer.set_analog_scales">Writer.set_analog_scales()</a></code> (1D float array).</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
---------------------
Python C3D Processing
---------------------

This package provides pure Python modules for reading, writing, and editing binary
motion-capture files in the [C3D file format].

[C3D file format]: https://www.c3d.org/HTML/default.htm

Installing
----------

See the [main page] or [github page].

[main page]: https://mattiasfredriksson.github.io/py-c3d/
[github page]: https://github.com/EmbodiedCognition/py-c3d

.. include:: ../docs/examples.md

&#34;&#34;&#34;
from . import dtypes
from . import group
from . import header
from . import manager
from . import parameter
from . import utils
from .reader import Reader
from .writer import Writer</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="c3d.dtypes" href="dtypes.html">c3d.dtypes</a></code></dt>
<dd>
<div class="desc"><p>State object defining the data types associated with a given .c3d processor format.</p></div>
</dd>
<dt><code class="name"><a title="c3d.group" href="group.html">c3d.group</a></code></dt>
<dd>
<div class="desc"><p>Classes used to represent the concept of parameter groups in a .c3d file.</p></div>
</dd>
<dt><code class="name"><a title="c3d.header" href="header.html">c3d.header</a></code></dt>
<dd>
<div class="desc"><p>Defines the header class used for reading, writing and tracking metadata in the .c3d header.</p></div>
</dd>
<dt><code class="name"><a title="c3d.manager" href="manager.html">c3d.manager</a></code></dt>
<dd>
<div class="desc"><p>Manager base class defining common attributes for both the Reader and Writer instances.</p></div>
</dd>
<dt><code class="name"><a title="c3d.parameter" href="parameter.html">c3d.parameter</a></code></dt>
<dd>
<div class="desc"><p>Classes used to represent the concept of a parameter in a .c3d file.</p></div>
</dd>
<dt><code class="name"><a title="c3d.reader" href="reader.html">c3d.reader</a></code></dt>
<dd>
<div class="desc"><p>Contains the Reader class for reading C3D files.</p></div>
</dd>
<dt><code class="name"><a title="c3d.utils" href="utils.html">c3d.utils</a></code></dt>
<dd>
<div class="desc"><p>Trailing utility functions.</p></div>
</dd>
<dt><code class="name"><a title="c3d.writer" href="writer.html">c3d.writer</a></code></dt>
<dd>
<div class="desc"><p>Contains the Writer class for writing C3D files.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#python-c3d-processing">Python C3D Processing</a></li>
<li><a href="#installing">Installing</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#reading">Reading</a></li>
<li><a href="#writing">Writing</a></li>
<li><a href="#editing">Editing</a></li>
<li><a href="#accessing-metadata">Accessing metadata</a></li>
<li><a href="#writing-metadata">Writing metadata</a></li>
</ul>
</li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="c3d.dtypes" href="dtypes.html">c3d.dtypes</a></code></li>
<li><code><a title="c3d.group" href="group.html">c3d.group</a></code></li>
<li><code><a title="c3d.header" href="header.html">c3d.header</a></code></li>
<li><code><a title="c3d.manager" href="manager.html">c3d.manager</a></code></li>
<li><code><a title="c3d.parameter" href="parameter.html">c3d.parameter</a></code></li>
<li><code><a title="c3d.reader" href="reader.html">c3d.reader</a></code></li>
<li><code><a title="c3d.utils" href="utils.html">c3d.utils</a></code></li>
<li><code><a title="c3d.writer" href="writer.html">c3d.writer</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>